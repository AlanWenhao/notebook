# 位置匹配

## 什么是位置匹配，位置匹配的注意点
位置（锚）指的是相邻字符之间的位置
- 注意
    - 位置可以替换成字符
    - 多行匹配模式，有 m 时候的特殊情况
    - (?=p) 匹配字符p前面的位置，或者说该位置后的字符要匹配p。两种理解方式

## 如何匹配位置
ES5中共有6个锚
- `^` 开始位置
- `$` 结束位置
- `\b` 词边界
- `\B` 非词边界
- `(?=p)` 
- `(?|p)`

### ^ 和 $
- ^(脱字符)匹配开头，在多行匹配中匹配行开头。
- $(美元符号)匹配结尾，在多行匹配中匹配行结尾。

```js
var result = "hello".replace(/^|$/g, '#');
console.log(result);
// => "#hello#"
```

> 多行匹配模式(即有修饰符 m)时，二者是行的概念，这一点需要我们注意:

```js
var result = "I\nlove\njavascript".replace(/^|$/gm, '#');
console.log(result);
/*
#I#
#love#
#javascript#
*/
```

### \b 和 、\B
\b是单词边界，包括\w与\W之间的位置，也包括\w与 ^ 和 $ 之间的位置
- `\b` `数字字母下划线` 与 `非数字字母下划线` 的边界
- `\B` `\b` 之外的边界
```js
// 如下字符串的边界将被替换成 #
var result = "[JS] Lesson_01.mp4".replace(/\b/g, '#');
console.log(result);
// => "[#JS#] #Lesson_01#.#mp4#"
```

### (?=p) 和 (?!p)
> 中文翻译：正向先行断言、负向先行断言。或“环视”

- `(?=p)` 表示字符 `p` 之前的位置
- `(?!p)` 表示字符 `p` 之后的位置，
- 注意如果有两个连续字符 `p` 则选择最前(后)面的字符最为参照位置
- ES5之后还支持 `(?<=p)` 和 `(?<!p)`

## 位置的特性
> 对于位置的理解，我们可以理解成 ""，那么久有了以下的情况

```js
"hello" == "" + "h" + "" + "e" + "" + "l" + "" + "l" + "" + "o" + "";
```

```js
"hello" == "" + "" + "hello"
```

因此，把 /^hello$/ 写成 /^^hello$$$/，是没有任何问题的:
```js
var result = /^^hello$$$/.test("hello");
  console.log(result);
  // => true
```

或者更复杂的，**也就是说字符之间的位置，可以写成多个**
```js
var result = /(?=he)^^he(?=\w)llo$\b\b$/.test("hello");
console.log(result);
// => true
```

## 相关案例
- 写个正则不匹配任何东西 /.^/ （匹配一个字符，这个字符后面的位置是开头。。。）
- 数字的千位分隔符表示法，12345678 => 12,345,678
- 连续的数字格式千分法，"12345678 123456789" 替换成 "12,345,678 123,456,789"
- 货币格式化 1888 => $ 1888.00
- 验证密码问题，6~12位，由数字、大小写字母组成，且必须包含至少两种字符，尝试一个正则，两个正则
