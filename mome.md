# 备忘录

# 19-04-22
- 压缩目录可以先使用 tar 在使用 gzip 或 bz2 格式，也可以直接使用 -zcvf 或 -jcvf 压缩
- df -h 查看磁盘分区使用状况
    - 磁盘信息很有用，之后写 shell 脚本查看磁盘使用率的时候回用到
- 如何挂载一块新的硬盘，新建硬盘 => fdisk工具 => w 写入 => mkfs.ext3 /dev/sdb1 格式化 => mount挂载
    - MBR（旧）分区，也可以使用GPT（新）分区
    - 硬盘扇区
    - 理解linux的一切皆文件
    - vim + /etc/fstab 查看分区表，也可以直接修改，但是一旦出错整个系统就会崩溃
- free 命令查看磁盘使用状况
- 添加交换分区，相当于虚拟分区
- vimtutor vim编辑器的教程
- vi + a.txt 定位到最后一行；vi +2 a.txt 打开并定位到第二行
- 用户和用户组实操
    - 每增加一个用户，就会增加一个默认的用户组，组名与用户名一样，还会分配一个新的文件夹作为家目录放在`/home`下
    - `cat /etc/group | grep groupname` 来查看组信息
    - 通过`usermod`修改用户名与用户对用的工作目录
    - 给用户设置密码`password username`
    - 主要组和附属组
- `userdel username` 删除用户后，用户家目录不会别删除，而使用`userdel -d username` 删除则会一并删除

- 权限的更改 `chmod [选项] 模式 文件名`
    - 选项 `-R` 递归
    - 模式 [ugoa] u：所有者，g：所有组，o：其他人，a：全部包括ugo
    - +：增加权限，-：减去权限
    - rwx：读写执行
    - 但是这样要求操作者知道原来的权限，才能加或者减
- `chmod 764 1.txt`
    - 这种方式不不用考虑原来的权限
- 文件的最高权限是 `x`
    - 因为一个文件的可以读写最多也意味着是一个记事本，但是文件如果是可执行的，里面的文字可能会带来危险操作，所以文件默认的可执行权限都是没有的
    - 目录的最高权限是 `w`，只有读权限没有意义，对目录有了写权限，里面可以做任何事情，对于目录而言，`x`权限决定进入，`w`权限决定是否能在文件夹内新建删除文件

- umask 掩码，默认是 `022`
    - 创建文件默认权限最大是666，减去022变为644
    - 创建目录默认权限最大是777，减去022变为755
    - 修改掩码`umask 033`，那么这之后对饮的文件权限应该是633，但是发现还是644，是因为，这里的减法是各位转化为二进制之后，进行按位减的（不借位，0-1=0）
    - 为了验证上述掩码是生效的，可以`umask 044`发现，这时候新建的文件或者目录，权限发生了改变
    - 为什么在掩码运算的时候要，0-1=0呢？原因在于，掩码的作用是掩掉某个权限，如果某个权限本身就是0了，即使掩掉也应该还是0

- ACL 这里回看视频（任务58）中一般权限模型不能实现的前提，所以用ACL
    - 手动把某个文件，或者文件夹的权限单独赋给某个用户或者用户组